{"ast":null,"code":"import _classCallCheck from \"/Users/shivanibrijmohan/Development/code/Mod5/bloc/bloc-front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/shivanibrijmohan/Development/code/Mod5/bloc/bloc-front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shivanibrijmohan/Development/code/Mod5/bloc/bloc-front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/shivanibrijmohan/Development/code/Mod5/bloc/bloc-front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/shivanibrijmohan/Development/code/Mod5/bloc/bloc-front-end/src/components/NewSongsForm.js\";\nimport React from 'react';\nimport { API_ROOT, HEADERS } from '../constants';\n\nvar NewSongsForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NewSongsForm, _React$Component);\n\n  function NewSongsForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NewSongsForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NewSongsForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      song: '',\n      webplayer_id: _this.props.webplayer_id\n    };\n\n    _this.componentWillRecieveProps = function (nextProps) {\n      _this.setState({\n        webplayer_id: nextProps.webplayer_id\n      });\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState({\n        song: e.target.value\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      fetch(\"\".concat(API_ROOT, \"/songs\"), {\n        method: 'POST',\n        headers: HEADERS,\n        body: JSON.stringify(_this.state)\n      });\n\n      _this.setState({\n        song: ''\n      });\n    };\n\n    _this.render = function () {\n      return React.createElement(\"div\", {\n        className: \"newSongForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: _this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"New Song:\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        value: _this.state.song,\n        onChange: _this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      })));\n    };\n\n    return _this;\n  }\n\n  return NewSongsForm;\n}(React.Component);\n\nexport default NewSongsForm;","map":{"version":3,"sources":["/Users/shivanibrijmohan/Development/code/Mod5/bloc/bloc-front-end/src/components/NewSongsForm.js"],"names":["React","API_ROOT","HEADERS","NewSongsForm","state","song","webplayer_id","props","componentWillRecieveProps","nextProps","setState","handleChange","e","target","value","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","render","Component"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,OAAnB,QAAkC,cAAlC;;IAEMC,Y;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,YAAY,EAAE,MAAKC,KAAL,CAAWD;AAFnB,K;;UAKRE,yB,GAA6B,UAAAC,SAAS,EAAI;AACxC,YAAKC,QAAL,CAAc;AAAEJ,QAAAA,YAAY,EAAEG,SAAS,CAACH;AAA1B,OAAd;AACD,K;;UAEDK,Y,GAAe,UAAAC,CAAC,EAAI;AAClB,YAAKF,QAAL,CAAc;AAAEL,QAAAA,IAAI,EAAEO,CAAC,CAACC,MAAF,CAASC;AAAjB,OAAd;AACD,K;;UAEDC,Y,GAAe,UAAAH,CAAC,EAAI;AAClBA,MAAAA,CAAC,CAACI,cAAF;AAEAC,MAAAA,KAAK,WAAIhB,QAAJ,aAAsB;AACzBiB,QAAAA,MAAM,EAAE,MADiB;AAEzBC,QAAAA,OAAO,EAAEjB,OAFgB;AAGzBkB,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,MAAKlB,KAApB;AAHmB,OAAtB,CAAL;;AAKA,YAAKM,QAAL,CAAc;AAAEL,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD,K;;UAEDkB,M,GAAS,YAAM;AACb,aACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,QAAQ,EAAE,MAAKR,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,KAAK,EAAE,MAAKX,KAAL,CAAWC,IAFpB;AAGE,QAAA,QAAQ,EAAE,MAAKM,YAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAQE;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,CADF,CADF;AAcD,K;;;;;;EAxCwBX,KAAK,CAACwB,S;;AA2CjC,eAAerB,YAAf","sourcesContent":["import React from 'react';\nimport { API_ROOT, HEADERS } from '../constants';\n\nclass NewSongsForm extends React.Component {\n  state = {\n    song: '',\n    webplayer_id: this.props.webplayer_id\n  };\n\n  componentWillRecieveProps =  nextProps => {\n    this.setState({ webplayer_id: nextProps.webplayer_id })\n  };\n\n  handleChange = e => {\n    this.setState({ song: e.target.value })\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    fetch(`${API_ROOT}/songs`, {\n      method: 'POST',\n      headers: HEADERS,\n      body: JSON.stringify(this.state)\n    });\n    this.setState({ song: '' })\n  };\n\n  render = () => {\n    return(\n      <div className=\"newSongForm\">\n        <form onSubmit={this.handleSubmit}>\n          <label>New Song:</label>\n          <br />\n          <input\n            type=\"text\"\n            value={this.state.song}\n            onChange={this.handleChange}\n          />\n          <input type=\"submit\" />\n        </form>\n      </div>\n    );\n  };\n}\n\nexport default NewSongsForm;\n"]},"metadata":{},"sourceType":"module"}